!function(window,document,undefined){var factory=function($,DataTable){"use strict";var FixedColumns=function(dt,init){var that=this;if(!(this instanceof FixedColumns))return void alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");"undefined"==typeof init&&(init={});var camelToHungarian=$.fn.dataTable.camelToHungarian;camelToHungarian&&(camelToHungarian(FixedColumns.defaults,FixedColumns.defaults,!0),camelToHungarian(FixedColumns.defaults,init));var dtSettings=$.fn.dataTable.Api?new $.fn.dataTable.Api(dt).settings()[0]:dt.fnSettings();this.s={dt:dtSettings,iTableColumns:dtSettings.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},dtSettings._oFixedColumns=this,dtSettings._bInitComplete?this._fnConstruct(init):dtSettings.oApi._fnCallbackReg(dtSettings,"aoInitComplete",function(){that._fnConstruct(init)},"FixedColumns")};return FixedColumns.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(nTr){delete nTr._DTTC_iHeight,nTr.style.height="auto"},fnSetRowHeight:function(nTarget,iHeight){nTarget.style.height=iHeight+"px"},fnGetPosition:function(node){var idx,inst=this.s.dt.oInstance;if($(node).parents(".DTFC_Cloned").length){if("tr"===node.nodeName.toLowerCase())return idx=$(node).index(),inst.fnGetPosition($("tr",this.s.dt.nTBody)[idx]);var colIdx=$(node).index();idx=$(node.parentNode).index();var row=inst.fnGetPosition($("tr",this.s.dt.nTBody)[idx]);return[row,colIdx,inst.oApi._fnVisibleToColumnIndex(this.s.dt,colIdx)]}return inst.fnGetPosition(node)},_fnConstruct:function(oInit){var that=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||this.s.dt.oInstance.fnVersionCheck("1.8.0")!==!0)return void alert("FixedColumns "+FixedColumns.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");if(""===this.s.dt.oScroll.sX)return void this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");this.s=$.extend(!0,this.s,FixedColumns.defaults,oInit);var classes=this.s.dt.oClasses;this.dom.grid.dt=$(this.s.dt.nTable).parents("div."+classes.sScrollWrapper)[0],this.dom.scroller=$("div."+classes.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var mouseController;$(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){mouseController="main"}).on("scroll.DTFC",function(){"main"===mouseController&&(that.s.iLeftColumns>0&&(that.dom.grid.left.liner.scrollTop=that.dom.scroller.scrollTop),that.s.iRightColumns>0&&(that.dom.grid.right.liner.scrollTop=that.dom.scroller.scrollTop))});var wheelType="onwheel"in document.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";that.s.iLeftColumns>0&&$(that.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){mouseController="left"}).on("scroll.DTFC",function(){"left"===mouseController&&(that.dom.scroller.scrollTop=that.dom.grid.left.liner.scrollTop,that.s.iRightColumns>0&&(that.dom.grid.right.liner.scrollTop=that.dom.grid.left.liner.scrollTop))}).on(wheelType,function(e){var xDelta="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX;that.dom.scroller.scrollLeft-=xDelta}),that.s.iRightColumns>0&&$(that.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){mouseController="right"}).on("scroll.DTFC",function(){"right"===mouseController&&(that.dom.scroller.scrollTop=that.dom.grid.right.liner.scrollTop,that.s.iLeftColumns>0&&(that.dom.grid.left.liner.scrollTop=that.dom.grid.right.liner.scrollTop))}).on(wheelType,function(e){var xDelta="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX;that.dom.scroller.scrollLeft-=xDelta}),$(window).on("resize.DTFC",function(){that._fnGridLayout.call(that)});var bFirstDraw=!0,jqTable=$(this.s.dt.nTable);jqTable.on("draw.dt.DTFC",function(){that._fnDraw.call(that,bFirstDraw),bFirstDraw=!1}).on("column-sizing.dt.DTFC",function(){that._fnColCalc(),that._fnGridLayout(that)}).on("column-visibility.dt.DTFC",function(){that._fnColCalc(),that._fnGridLayout(that),that._fnDraw(!0)}).on("destroy.dt.DTFC",function(){jqTable.off("column-sizing.dt.DTFC destroy.dt.DTFC draw.dt.DTFC"),$(that.dom.scroller).off("scroll.DTFC mouseover.DTFC"),$(window).off("resize.DTFC"),$(that.dom.grid.left.liner).off("scroll.DTFC mouseover.DTFC "+wheelType),$(that.dom.grid.left.wrapper).remove(),$(that.dom.grid.right.liner).off("scroll.DTFC mouseover.DTFC "+wheelType),$(that.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)},_fnColCalc:function(){var that=this,iLeftWidth=0,iRightWidth=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],$.each(this.s.dt.aoColumns,function(i,col){var border,th=$(col.nTh);if(th.filter(":visible").length){var iWidth=th.outerWidth();0===that.s.aiOuterWidths.length&&(border=$(that.s.dt.nTable).css("border-left-width"),iWidth+="string"==typeof border?1:parseInt(border,10)),that.s.aiOuterWidths.length===that.s.dt.aoColumns.length-1&&(border=$(that.s.dt.nTable).css("border-right-width"),iWidth+="string"==typeof border?1:parseInt(border,10)),that.s.aiOuterWidths.push(iWidth),that.s.aiInnerWidths.push(th.width()),i<that.s.iLeftColumns&&(iLeftWidth+=iWidth),that.s.iTableColumns-that.s.iRightColumns<=i&&(iRightWidth+=iWidth)}else that.s.aiInnerWidths.push(0),that.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=iLeftWidth,this.s.iRightWidth=iRightWidth},_fnGridSetup:function(){var block,oOverflow=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var nSWrapper=$('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],nLeft=nSWrapper.childNodes[0],nRight=nSWrapper.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(nSWrapper,this.dom.grid.dt),nSWrapper.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=nSWrapper,this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=nLeft,this.dom.grid.left.head=nLeft.childNodes[0],this.dom.grid.left.body=nLeft.childNodes[1],this.dom.grid.left.liner=$("div.DTFC_LeftBodyLiner",nSWrapper)[0],nSWrapper.appendChild(nLeft)),this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=nRight,this.dom.grid.right.head=nRight.childNodes[0],this.dom.grid.right.body=nRight.childNodes[1],this.dom.grid.right.liner=$("div.DTFC_RightBodyLiner",nSWrapper)[0],block=$("div.DTFC_RightHeadBlocker",nSWrapper)[0],block.style.width=oOverflow.bar+"px",block.style.right=-oOverflow.bar+"px",this.dom.grid.right.headBlock=block,block=$("div.DTFC_RightFootBlocker",nSWrapper)[0],block.style.width=oOverflow.bar+"px",block.style.right=-oOverflow.bar+"px",this.dom.grid.right.footBlock=block,nSWrapper.appendChild(nRight)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=nLeft.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=nRight.childNodes[2]))},_fnGridLayout:function(){var iRight,oGrid=this.dom.grid,iWidth=$(oGrid.wrapper).width(),iBodyHeight=$(this.s.dt.nTable.parentNode).outerHeight(),iFullHeight=$(this.s.dt.nTable.parentNode.parentNode).outerHeight(),oOverflow=this._fnDTOverflow(),iLeftWidth=this.s.iLeftWidth,iRightWidth=this.s.iRightWidth,scrollbarAdjust=function(node,width){oOverflow.bar?node.style.width=width+oOverflow.bar+"px":(node.style.width=width+20+"px",node.style.paddingRight="20px",node.style.boxSizing="border-box")};oOverflow.x&&(iBodyHeight-=oOverflow.bar),oGrid.wrapper.style.height=iFullHeight+"px",this.s.iLeftColumns>0&&(oGrid.left.wrapper.style.width=iLeftWidth+"px",oGrid.left.wrapper.style.height="1px",oGrid.left.body.style.height=iBodyHeight+"px",oGrid.left.foot&&(oGrid.left.foot.style.top=(oOverflow.x?oOverflow.bar:0)+"px"),scrollbarAdjust(oGrid.left.liner,iLeftWidth),oGrid.left.liner.style.height=iBodyHeight+"px"),this.s.iRightColumns>0&&(iRight=iWidth-iRightWidth,oOverflow.y&&(iRight-=oOverflow.bar),oGrid.right.wrapper.style.width=iRightWidth+"px",oGrid.right.wrapper.style.left=iRight+"px",oGrid.right.wrapper.style.height="1px",oGrid.right.body.style.height=iBodyHeight+"px",oGrid.right.foot&&(oGrid.right.foot.style.top=(oOverflow.x?oOverflow.bar:0)+"px"),scrollbarAdjust(oGrid.right.liner,iRightWidth),oGrid.right.liner.style.height=iBodyHeight+"px",oGrid.right.headBlock.style.display=oOverflow.y?"block":"none",oGrid.right.footBlock.style.display=oOverflow.y?"block":"none")},_fnDTOverflow:function(){var nTable=this.s.dt.nTable,nTableScrollBody=nTable.parentNode,out={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return nTable.offsetWidth>nTableScrollBody.clientWidth&&(out.x=!0),nTable.offsetHeight>nTableScrollBody.clientHeight&&(out.y=!0),out},_fnDraw:function(bAll){this._fnGridLayout(),this._fnCloneLeft(bAll),this._fnCloneRight(bAll),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),$(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(bAll){if(!(this.s.iRightColumns<=0)){var i,aiColumns=[];for(i=this.s.iTableColumns-this.s.iRightColumns;i<this.s.iTableColumns;i++)this.s.dt.aoColumns[i].bVisible&&aiColumns.push(i);this._fnClone(this.dom.clone.right,this.dom.grid.right,aiColumns,bAll)}},_fnCloneLeft:function(bAll){if(!(this.s.iLeftColumns<=0)){var i,aiColumns=[];for(i=0;i<this.s.iLeftColumns;i++)this.s.dt.aoColumns[i].bVisible&&aiColumns.push(i);this._fnClone(this.dom.clone.left,this.dom.grid.left,aiColumns,bAll)}},_fnCopyLayout:function(aoOriginal,aiColumns){for(var aReturn=[],aClones=[],aCloned=[],i=0,iLen=aoOriginal.length;i<iLen;i++){var aRow=[];aRow.nTr=$(aoOriginal[i].nTr).clone(!0,!0)[0];for(var j=0,jLen=this.s.iTableColumns;j<jLen;j++)if($.inArray(j,aiColumns)!==-1){var iCloned=$.inArray(aoOriginal[i][j].cell,aCloned);if(iCloned===-1){var nClone=$(aoOriginal[i][j].cell).clone(!0,!0)[0];aClones.push(nClone),aCloned.push(aoOriginal[i][j].cell),aRow.push({cell:nClone,unique:aoOriginal[i][j].unique})}else aRow.push({cell:aClones[iCloned],unique:aoOriginal[i][j].unique})}aReturn.push(aRow)}return aReturn},_fnClone:function(oClone,oGrid,aiColumns,bAll){var i,iLen,j,jLen,iColumn,nClone,iIndex,aoCloneLayout,jqCloneThead,aoFixedHeader,that=this,dt=this.s.dt;if(bAll){for(null!==oClone.header&&oClone.header.parentNode.removeChild(oClone.header),oClone.header=$(this.dom.header).clone(!0,!0)[0],oClone.header.className+=" DTFC_Cloned",oClone.header.style.width="100%",oGrid.head.appendChild(oClone.header),aoCloneLayout=this._fnCopyLayout(dt.aoHeader,aiColumns),jqCloneThead=$(">thead",oClone.header),jqCloneThead.empty(),i=0,iLen=aoCloneLayout.length;i<iLen;i++)jqCloneThead[0].appendChild(aoCloneLayout[i].nTr);dt.oApi._fnDrawHead(dt,aoCloneLayout,!0)}else for(aoCloneLayout=this._fnCopyLayout(dt.aoHeader,aiColumns),aoFixedHeader=[],dt.oApi._fnDetectHeader(aoFixedHeader,$(">thead",oClone.header)[0]),i=0,iLen=aoCloneLayout.length;i<iLen;i++)for(j=0,jLen=aoCloneLayout[i].length;j<jLen;j++)aoFixedHeader[i][j].cell.className=aoCloneLayout[i][j].cell.className,$("span.DataTables_sort_icon",aoFixedHeader[i][j].cell).each(function(){this.className=$("span.DataTables_sort_icon",aoCloneLayout[i][j].cell)[0].className});this._fnEqualiseHeights("thead",this.dom.header,oClone.header),"auto"==this.s.sHeightMatch&&$(">tbody>tr",that.dom.body).css("height","auto"),null!==oClone.body&&(oClone.body.parentNode.removeChild(oClone.body),oClone.body=null),oClone.body=$(this.dom.body).clone(!0)[0],oClone.body.className+=" DTFC_Cloned",oClone.body.style.paddingBottom=dt.oScroll.iBarWidth+"px",oClone.body.style.marginBottom=2*dt.oScroll.iBarWidth+"px",null!==oClone.body.getAttribute("id")&&oClone.body.removeAttribute("id"),$(">thead>tr",oClone.body).empty(),$(">tfoot",oClone.body).remove();var nBody=$("tbody",oClone.body)[0];if($(nBody).empty(),dt.aiDisplay.length>0){var nInnerThead=$(">thead>tr",oClone.body)[0];for(iIndex=0;iIndex<aiColumns.length;iIndex++){iColumn=aiColumns[iIndex],nClone=$(dt.aoColumns[iColumn].nTh).clone(!0)[0],nClone.innerHTML="";var oStyle=nClone.style;oStyle.paddingTop="0",oStyle.paddingBottom="0",oStyle.borderTopWidth="0",oStyle.borderBottomWidth="0",oStyle.height=0,oStyle.width=that.s.aiInnerWidths[iColumn]+"px",nInnerThead.appendChild(nClone)}$(">tbody>tr",that.dom.body).each(function(z){var n=this.cloneNode(!1);n.removeAttribute("id");var i=that.s.dt.oFeatures.bServerSide===!1?that.s.dt.aiDisplay[that.s.dt._iDisplayStart+z]:z,aTds=that.s.dt.aoData[i].anCells||$(this).children("td, th");for(iIndex=0;iIndex<aiColumns.length;iIndex++)iColumn=aiColumns[iIndex],aTds.length>0&&(nClone=$(aTds[iColumn]).clone(!0,!0)[0],n.appendChild(nClone));nBody.appendChild(n)})}else $(">tbody>tr",that.dom.body).each(function(z){nClone=this.cloneNode(!0),nClone.className+=" DTFC_NoData",$("td",nClone).html(""),nBody.appendChild(nClone)});if(oClone.body.style.width="100%",oClone.body.style.margin="0",oClone.body.style.padding="0",dt.oScroller!==undefined){var scrollerForcer=dt.oScroller.dom.force;oGrid.forcer?oGrid.forcer.style.height=scrollerForcer.style.height:(oGrid.forcer=scrollerForcer.cloneNode(!0),oGrid.liner.appendChild(oGrid.forcer))}if(oGrid.liner.appendChild(oClone.body),this._fnEqualiseHeights("tbody",that.dom.body,oClone.body),null!==dt.nTFoot){if(bAll){null!==oClone.footer&&oClone.footer.parentNode.removeChild(oClone.footer),oClone.footer=$(this.dom.footer).clone(!0,!0)[0],oClone.footer.className+=" DTFC_Cloned",oClone.footer.style.width="100%",oGrid.foot.appendChild(oClone.footer),aoCloneLayout=this._fnCopyLayout(dt.aoFooter,aiColumns);var jqCloneTfoot=$(">tfoot",oClone.footer);for(jqCloneTfoot.empty(),i=0,iLen=aoCloneLayout.length;i<iLen;i++)jqCloneTfoot[0].appendChild(aoCloneLayout[i].nTr);dt.oApi._fnDrawHead(dt,aoCloneLayout,!0)}else{aoCloneLayout=this._fnCopyLayout(dt.aoFooter,aiColumns);var aoCurrFooter=[];for(dt.oApi._fnDetectHeader(aoCurrFooter,$(">tfoot",oClone.footer)[0]),i=0,iLen=aoCloneLayout.length;i<iLen;i++)for(j=0,jLen=aoCloneLayout[i].length;j<jLen;j++)aoCurrFooter[i][j].cell.className=aoCloneLayout[i][j].cell.className}this._fnEqualiseHeights("tfoot",this.dom.footer,oClone.footer)}var anUnique=dt.oApi._fnGetUniqueThs(dt,$(">thead",oClone.header)[0]);$(anUnique).each(function(i){iColumn=aiColumns[i],this.style.width=that.s.aiInnerWidths[iColumn]+"px"}),null!==that.s.dt.nTFoot&&(anUnique=dt.oApi._fnGetUniqueThs(dt,$(">tfoot",oClone.footer)[0]),$(anUnique).each(function(i){iColumn=aiColumns[i],this.style.width=that.s.aiInnerWidths[iColumn]+"px"}))},_fnGetTrNodes:function(nIn){for(var aOut=[],i=0,iLen=nIn.childNodes.length;i<iLen;i++)"TR"==nIn.childNodes[i].nodeName.toUpperCase()&&aOut.push(nIn.childNodes[i]);return aOut},_fnEqualiseHeights:function(nodeName,original,clone){if("none"!=this.s.sHeightMatch||"thead"===nodeName||"tfoot"===nodeName){var i,iLen,iHeight,iHeightOriginal,iHeightClone,rootOriginal=original.getElementsByTagName(nodeName)[0],rootClone=clone.getElementsByTagName(nodeName)[0],jqBoxHack=$(">"+nodeName+">tr:eq(0)",original).children(":first"),anOriginal=(jqBoxHack.outerHeight()-jqBoxHack.height(),this._fnGetTrNodes(rootOriginal)),anClone=this._fnGetTrNodes(rootClone),heights=[];for(i=0,iLen=anClone.length;i<iLen;i++)iHeightOriginal=anOriginal[i].offsetHeight,iHeightClone=anClone[i].offsetHeight,iHeight=iHeightClone>iHeightOriginal?iHeightClone:iHeightOriginal,"semiauto"==this.s.sHeightMatch&&(anOriginal[i]._DTTC_iHeight=iHeight),heights.push(iHeight);for(i=0,iLen=anClone.length;i<iLen;i++)anClone[i].style.height=heights[i]+"px",anOriginal[i].style.height=heights[i]+"px"}}},FixedColumns.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},FixedColumns.version="3.0.4",$.fn.dataTable.FixedColumns=FixedColumns,$.fn.DataTable.FixedColumns=FixedColumns,FixedColumns};"function"==typeof define&&define.amd?define(["jquery","datatables"],factory):"object"==typeof exports?factory(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.FixedColumns&&factory(jQuery,jQuery.fn.dataTable)}(window,document);